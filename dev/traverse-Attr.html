<!DOCTYPE html>
<html lang="en">

<head>
  <title>遍历元素特性</title>
</head>

<body>
  <div id="myAttr" class="someText" title="bodyText" lang="en" dir="ltr"
  my_special_attribute="hello!">Some normal text</div>
  <input type="button" value="Find element" onclick="foo()">
  <script type="text/javascript">
    function findElement(element) {
      var a = new Array(),
        attrName,
        attrValue;
        len;
        // 此处不直接引用i < element.attributes.length;是因为NameNodeMap对象是动态查询的结果，当循环体中出现增加属性语句 ，将导致for循环无限循环下去
        // 此处引用变量len保存element.attributes.length在for循环开始时的一个快照，减少了对NameNodeMap对象的访问
      for (var i = 0, len = element.attributes.length; i < len; i++) {
        attrName = element.attributes[i].nodeName;
        attrValue = element.attributes[i].nodeValue;
        a.push(attrName + " = \"" + attrValue + '\"\n');
      }
      return a.join('');
      //join()方法将数组（或一个类数组对象）的所有元素连接到一个字符串中
    }

    function foo() {
      alert(findElement(document.getElementById("myAttr")));
    }
  </script>
</body>

</html>
