<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>倒计时——超时调用模拟间歇调用</title>
  <style media="screen">
    div {
      font-size: 100px;
      margin: 0 auto;
      line-height: 200px;
      text-align: center;
      width: 980px;
    }
  </style>
</head>

<body>
  <!-- 支持chrome和firefox使用 -->
  <div class="inputarea">
    <input type="search" name="input-area" id="inputValue" placeholder="输入倒计时">
    <input type="button" class='textValue' value="Submit">
  </div>
  <div class="outputarea"></div>
  <script type="text/javascript">
    var num;
    var inputButton = document.querySelector('.textValue');
    var outputarea = document.querySelector('.outputarea');

    function getNum() {
      num = document.getElementById('inputValue').value;
      // 获取用户输入数字，得到的类型为字符串
      if (Number(num)) {
        countdown();
      } else {
        outputarea.innerHTML = 'Please input right number';
      }
      //检验输入的值是否可以转换为数值
    }

    function countdown() {
      if (num > 0) {
        outputarea.innerHTML = num + '秒';
        setTimeout(countdown, 1000);
        num -= 1;
      } else {
        outputarea.innerHTML = num + '秒' + '<br />' + 'Mission Completed';
      }
    }
    inputButton.addEventListener('click', getNum, false);
  </script>
</body>

</html>
